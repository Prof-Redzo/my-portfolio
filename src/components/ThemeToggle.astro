---
---
<button id="theme-toggle" class="px-3 py-1 rounded-lg border text-sm" aria-label="Toggle theme">🌙</button>

<script type="module">
(() => {
  const btn = document.getElementById('theme-toggle');
  if (!btn) return;
  const apply = (isDark) => {
    document.documentElement.classList.toggle('dark', isDark);
    btn.textContent = isDark ? '☀️' : '🌙';
  };
  const saved = localStorage.getItem('theme');
  const prefers = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
  const initial = saved ? saved === 'dark' : prefers;
  apply(initial);

  btn.addEventListener('click', () => {
    const isDark = !document.documentElement.classList.contains('dark');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
    apply(isDark);
  });
})();
</script>
